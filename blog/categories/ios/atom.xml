<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Ios | Ian's Tech Note]]></title>
  <link href="http://iandai.github.io/blog/categories/ios/atom.xml" rel="self"/>
  <link href="http://iandai.github.io/"/>
  <updated>2018-06-24T23:43:43+02:00</updated>
  <id>http://iandai.github.io/</id>
  <author>
    <name><![CDATA[Ian Dai]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[NSString, Unicodeå’ŒNSCharacterSet]]></title>
    <link href="http://iandai.github.io/blog/2017/01/05/nsstring-unicodehe-nscharacterset/"/>
    <updated>2017-01-05T15:57:17+01:00</updated>
    <id>http://iandai.github.io/blog/2017/01/05/nsstring-unicodehe-nscharacterset</id>
    <content type="html"><![CDATA[<h2>Unicode</h2>

<h3>Convert unicode ponit to eomji using universal character names</h3>

<blockquote><p>Universal character names are formed by a prefix \U followed by an eight-digit Unicode code point, or by a prefix \u followed by a four digit Unicode code point.
For Unicode surrogate pairs, specify the universal character name by using \UNNNNNNNN, where NNNNNNNN is the eight-digit code point for the character. The compiler generates a surrogate pair if required.
In Objc, \U also handles Emoji ZWJ Sequences.</p></blockquote>

<p>For example:
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>// ç”¨Universal character names \Uå’Œ\u æ›¿æ¢
</span><span class='line'>NSString *str = @&ldquo;The Greek letter Beta looks like this: \u03b2, and the emoji for books looks like this: \U00010437&rdquo;;
</span><span class='line'>NSLog(@&ldquo;%@&rdquo;, str);&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;// å¤„ç† Surrogate Pairs
</span><span class='line'>// æ–¹æ³•ä¸€
</span><span class='line'>NSString *str2 = [NSString stringWithCharacters:(unichar[]){0x263A, 0xFE0F} length:2];
</span><span class='line'>NSLog(@"%@", str2);
</span><span class='line'>// æ–¹æ³•äºŒ
</span><span class='line'>NSString *str3 = [NSString stringWithFormat:@"\U0000263A\U0000FE0F"];
</span><span class='line'>NSLog(@"%@", str3);
</span><span class='line'>// æ–¹æ³•ä¸‰
</span><span class='line'>// NSString  initWithBytes
</span><span class='line'>// supports Surrogate Pairs, does not support Emoji ZWJ Sequences
</span><span class='line'>const unichar chars1[] = {0x263A, 0xFE0F};
</span><span class='line'>NSString *str4 = [[NSString alloc] initWithBytes:chars1 length:sizeof(chars1) encoding:NSUTF16LittleEndianStringEncoding];
</span><span class='line'>NSLog(@"%@", str4);
</span><span class='line'>// æ–¹æ³•å››
</span><span class='line'>// NSString  initWithBytes
</span><span class='line'>// works on utf32
</span><span class='line'>uint32_t base_point_UTF32 = 0x1F600;
</span><span class='line'>NSString *str5 = [[NSString alloc] initWithBytes:&amp;base_point_UTF32 length:4 encoding:NSUTF32LittleEndianStringEncoding];
</span><span class='line'>NSLog(@"%@", str5);
</span><span class='line'>// æ–¹æ³•äº”
</span><span class='line'>//CFStringGetSurrogatePairForLongCharacter
</span><span class='line'>UniChar c[2];
</span><span class='line'>CFStringGetSurrogatePairForLongCharacter(0x1F600, c);
</span><span class='line'>NSString *str6 = [[NSString alloc] initWithCharacters:c length:2];
</span><span class='line'>NSLog(@"%@", str6);
</span><span class='line'>
</span><span class='line'>// å¤„ç†Emoji ZWJ Sequences
</span><span class='line'>// æ–¹æ³•ä¸€
</span><span class='line'>NSString *str7 = [NSString stringWithFormat:@"\U0001F468\U0000200D\U00002695\U0000FE0F"];
</span><span class='line'>NSLog(@"%@", str7);
</span><span class='line'>// æ–¹æ³•äºŒ
</span><span class='line'>NSString *str8 = [NSString stringWithFormat:@"ğŸ‘¨\u200DğŸ‘©\u200DğŸ‘§\u200DğŸ‘¦"]; //ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦
</span><span class='line'>NSLog(@"%@", str8);
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;pre&gt;&lt;code&gt;
</span><span class='line'>
</span><span class='line'>## CharacterSet
</span><span class='line'>
</span><span class='line'>### æ£€æµ‹CharacterSetåŒ…å«äº†å“ªäº›å­—ç¬¦
</span><span class='line'>&lt;/code&gt;&lt;/pre&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;NSCharacterSet *charSet = [NSCharacterSet symbolCharacterSet];&lt;/p&gt;
</span><span class='line'>
</span><span class='line'>&lt;p&gt;int count = 1;
</span><span class='line'>for (unichar i = 0; i&lt;65535; i++) {
</span><span class='line'>if ([charSet characterIsMember:i]) {
</span><span class='line'>    NSLog(@&ldquo;character %d = %C&rdquo;,i,i);
</span><span class='line'>    count++;
</span><span class='line'>}
</span><span class='line'>}
</span><span class='line'>NSLog(@&ldquo;found %d characters out of 65536&rdquo;,count);</span></code></pre></td></tr></table></div></figure></p>

<h2>More about unicode and emoji</h2>

<p><a href="http://www.unicode.org/faq/emoji_dingbats.html">Emoji and Pictographs</a><br/>
<a href="http://cyrilwei.me/swift/2016/08/31/the-emoji.html">The Emoji, is not what you expected</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[å¦‚ä½•æ£€æµ‹å’Œåˆ é™¤NSStringä¸­çš„é¢œæ–‡å­—Emoji]]></title>
    <link href="http://iandai.github.io/blog/2017/01/05/ru-he-jian-ce-he-shan-chu-nsstringzhong-de-yan-wen-zi-emoji/"/>
    <updated>2017-01-05T14:52:29+01:00</updated>
    <id>http://iandai.github.io/blog/2017/01/05/ru-he-jian-ce-he-shan-chu-nsstringzhong-de-yan-wen-zi-emoji</id>
    <content type="html"><![CDATA[<h2>é—®é¢˜</h2>

<p>æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯è·å–è”ç³»äººå§“åçš„é¦–å­—æ¯ï¼Œä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªé¦–å­—æ¯ç»˜åˆ¶è”ç³»äººç”¨æˆ·å¤´åƒã€‚æœ‰çš„ç”¨æˆ·åå­—é¦–å­—æ¯æ˜¯é¢œæ–‡å­—ï¼Œç»˜åˆ¶å°±ä¼šå‡ºç°ä¹±ç ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>

<pre><code class="Objc">NSMutableString *initials = [NSMutableString string];
NSArray *words = [contactName componentsSeparatedByCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];
for (NSString *word in words) {
    if (word.length &gt; 0) {
        NSString *firstLetter = [word substringToIndex:1];
        [initials appendString:[firstLetter uppercaseString]];
    }
}
</code></pre>

<p>ä¹±ç æ¥è‡ªäºåå­—ä¸­çš„é¢œæ–‡å­—ï¼Œå½“<code>[word substringToIndex:1]</code>ä¸­çš„wordæ˜¯é¢œæ–‡å­—çš„æ—¶å€™ï¼Œå…¶è¿”å›å€¼å¹¶ä¸æ˜¯ä¸€ä¸ªæ­£å¸¸çš„é¢œæ–‡å­—ã€‚</p>

<p>åŸå› æ˜¯<code>[word length]</code>ç»“æœæ˜¯2ï¼Œæ‰€ä»¥<code>[word substringToIndex:1]</code>å…¶å®åªè¿”å›äº†é¢œæ–‡å­—çš„ä¸€åŠã€‚</p>

<p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿè¿™æ˜¯å› ä¸º<code>word</code>æ˜¯ä¸€ä¸ªNSStringç±»å‹ï¼Œè€ŒNSStringæ˜¯UTF-16ç¼–ç çš„ã€‚è®¸å¤šé¢œæ–‡å­—åœ¨ä½¿ç”¨UTF-16è¡¨ç¤ºçš„æ—¶å€™ï¼Œè¦æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚æ‰èƒ½è¡¨ç¤ºï¼Œæ¯”å¦‚ğŸ˜€ã€‚</p>

<p>NSStringç±»çš„<a href="https://developer.apple.com/reference/foundation/nsstring">æ–‡æ¡£</a>é‡Œå†™åˆ°ï¼š</p>

<blockquote><p>An NSString object encodes a Unicode-compliant text string, represented as a sequence of UTFâ€“16 code units. All lengths, character
indexes, and ranges are expressed in terms of 16-bit platform-endian values, with index values starting at 0.</p></blockquote>

<h2>è§£å†³æ–¹æ³•</h2>

<h3>1.ä»å­—ç¬¦ä¸²ä¸­è·å¾—æ­£ç¡®å®Œæ•´çš„å­—ç¬¦</h3>

<pre><code class="Objc">__block NSString *firstLetter = @"";
[word enumerateSubstringsInRange:NSMakeRange(0, [word length])
                         options:NSStringEnumerationByComposedCharacterSequences
                      usingBlock: ^(NSString* substring, NSRange substringRange, NSRange enclosingRange, BOOL* stop) {
                          firstLetter = substring;
                          *stop = YES;
                      }];
</code></pre>

<p>ä½¿ç”¨<code>NSStringEnumerationByComposedCharacterSequences</code>èƒ½å¤Ÿè¯»å–å®Œæ•´çš„é¢œæ–‡å­—ï¼Œè€Œä¸æ˜¯åªè¯»å–å…¶ä¸­ä¸€ä¸ªå­—èŠ‚ã€‚</p>

<h3>2.æ£€æµ‹å’Œåˆ é™¤æ˜¯å¦åŒ…å«é¢œæ–‡å­—</h3>

<p>Githubä¸Šæœ‰ä¸€ä¸ªæ¯”è¾ƒå¤šäººå‚è€ƒçš„é¡¹ç›®<a href="https://github.com/woxtu/NSString-RemoveEmoji">NSString-RemoveEmoj</a>ã€‚è¿™ä¸ªé¡¹ç›®æœ‰é—æ¼é¢œæ–‡å­—ï¼Œæ¯”å¦‚â­ï¼ŒåŒ…å«äº†è®¸å¤šä¸æ˜¯é¢œæ–‡å­—çš„å­—ç¬¦ï¼Œæ¯”å¦‚â…¦ã€‚</p>

<p>åœ¨unicode.orgç½‘ç«™ä¸Šï¼Œæœ‰<a href="http://unicode.org/Public/emoji/4.0/emoji-test.txt">å®Œæ•´çš„é¢œæ–‡å­—åˆ—è¡¨</a>ã€‚éå†è¿™ä¸ªå®Œæ•´çš„åˆ—è¡¨ï¼Œå°±å¯ä»¥æ£€æµ‹å­—ç¬¦ä¸²ä¸­æ˜¯å¦é¢œæ–‡å­—ã€‚æ–¹æ³•å¦‚ä¸‹ï¼š</p>

<pre><code class="Objc">// å»ºç«‹ä¸€ä¸ªemoji CharacterSet
NSMutableCharacterSet *emojiCharacterSet = [[NSMutableCharacterSet alloc] init];
NSString *plistPath = [[NSBundle mainBundle] pathForResource:@"emoji" ofType:@"plist"];
NSArray *emojiArr = [NSArray arrayWithContentsOfFile:plistPath];
for (NSString *emoji in emojiArr) {
    [emojiCharacterSet addCharactersInString:emoji];
}

// - (NSRange)rangeOfCharacterFromSet:(NSCharacterSet *)searchSet;
[@"ğŸ˜€" rangeOfCharacterFromSet:set]; 
</code></pre>

<p>ä¸Šé¢ä»£ç è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ²¡æœ‰è¢«è€ƒè™‘ã€‚æ¯”å¦‚ä¸‹é¢è¿™ç§æƒ…å†µï¼š</p>

<pre><code class="Objc">
NSMutableCharacterSet *set = [[NSMutableCharacterSet alloc] init];
[set addCharactersInString:@"2ï¸âƒ£"];      // keycap 2, 0032 FE0F 20E3, check from http://www.iemoji.com/view/emoji/296/symbols/keycap-2 
[@"2" rangeOfCharacterFromSet:set];     // return value: YES, which is not reasonable 
</code></pre>

<p>å­—ç¬¦2åœ¨æœç´¢åŒ…å«æœ‰é¢œæ–‡å­—2çš„å­—ç¬¦é›†çš„æ—¶å€™ï¼Œä¼šè¢«é”™è¯¯çš„æ£€æµ‹å‡ºæ¥ã€‚</p>

<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å†™äº†<a href="https://github.com/iandai/IDEmojiString">IDEmojiStringé¡¹ç›®</a>ã€‚</p>

<h3>3.IDEmojiString</h3>

<p>IDEmojiStringé€šè¿‡ä½¿å•å­—ç¬¦å’Œå¤šå­—ç¬¦åˆ†åˆ«æœç´¢å­—ç¬¦é›†ï¼Œè§£å†³äº†ä¸Šé¢çš„é—®é¢˜ã€‚</p>

<p>ä½¿ç”¨CocoaPodså®‰è£…ä¹‹åï¼Œé€šè¿‡ä»¥ä¸‹æ–¹æ³•ä½¿ç”¨ï¼š
<code>Objc
//#import "IDEmojiManager.h"
IDEmojiManager *manager = [[IDEmojiManager alloc] init];
BOOL containsEmoji = [manager containEmojiInString:@"Some Stringâ­"];  // return value: YES
NSString *str = [manager removeEmojiFromString:@"Some Stringâ­"];      // return value: Some String
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Optional in Swift -- ä½¿ç”¨Swift Optionalçš„å¥½å¤„]]></title>
    <link href="http://iandai.github.io/blog/2016/08/20/optional-in-swift-shi-yong-swift-optionalde-hao-chu/"/>
    <updated>2016-08-20T16:57:38+02:00</updated>
    <id>http://iandai.github.io/blog/2016/08/20/optional-in-swift-shi-yong-swift-optionalde-hao-chu</id>
    <content type="html"><![CDATA[<p>çœ‹è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œéœ€è¦äº†è§£Swiftä¸­<a href="https://developer.apple.com/library/ios/referencelibrary/GettingStarted/DevelopiOSAppsSwift/Lesson1.html#//apple_ref/doc/uid/TP40015214-CH3-SW1">Optionalçš„åŸºç¡€çŸ¥è¯†</a>ã€‚</p>

<p>ä½œä¸ºå†™äº†å‡ å¹´çš„Objective-cçš„å¼€å‘è€…ï¼Œå¯¹åœ¨Swiftä¸­ä½¿ç”¨OptionalæŒæœ‰è¿‡æ€€ç–‘æ€åº¦ã€‚ä½¿ç”¨äº†Optionalï¼Œéœ€è¦æ·»åŠ çƒ¦äººçš„ï¼Ÿå’Œï¼ã€‚ä½¿ç”¨äº†ï¼Ÿå’Œï¼ä¹‹åï¼Œä¾ç„¶éœ€è¦åšnilæ£€æŸ¥ï¼›ä½¿ç”¨äº†Valueï¼ä¹‹åï¼Œä¾ç„¶ä¼šåœ¨è¿è¡Œæ—¶å› ä¸ºnilé—®é¢˜è€Œcrashã€‚</p>

<p>ä½¿ç”¨Optionalæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ</p>

<h2>ä½¿ç”¨ç†ç”±1: é¢„å…ˆå®šä¹‰å¥½é€šç”¨çš„å¯¹è±¡ä¸å­˜åœ¨çš„æ—¶å€™çš„å†™æ³•</h2>

<p>è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼š</p>

<pre><code class="objc">- (NSString *)findStockCode:(NSString *)company {
    if ([company isEqualToString:@"Apple"]) {
        return @"AAPL";
    } else if ([company isEqualToString:@"Google"]) {
        return @"GOOG";
    }

    return nil;
}
</code></pre>

<p>å¯ä»¥ä½¿ç”¨findStockCode:æ–¹æ³•æ¥è·å–æŸä¸ªä¸Šå¸‚å…¬å¸çš„è‚¡ç¥¨ä»£ç ã€‚<br/>
ä¹Ÿæœ‰çš„å¼€å‘è€…ä¼šä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥å†™ï¼Œæ‰¾ä¸åˆ°çš„æ—¶å€™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</p>

<pre><code class="objc">- (NSString *)findStockCode:(NSString *)company {
    if ([company isEqualToString:@"Apple"]) {
        return @"AAPL";
    } else if ([company isEqualToString:@"Google"]) {
        return @"GOOG";
    }

    return "";
}
</code></pre>

<p>å¦‚ä½•ç¡®å®šæ‰¾ä¸åˆ°è¯¥å…¬å¸ä»£ç çš„æ—¶å€™ï¼Œè¿”å›çš„æ˜¯ç©ºå­—ç¬¦ä¸²è¿˜æ˜¯nilå‘¢ï¼Ÿè°ƒç”¨è¯¥æ–¹æ³•çš„å¼€å‘è€…ï¼Œéœ€è¦é˜…è¯»æ–‡æ¡£æˆ–è€…å¤„ç†å¤šç§æƒ…å†µã€‚</p>

<pre><code class="objc">NSString *stockCode = [self findStockCode:@"Facebook"]; 
if (stockCode == "" &amp;&amp; stockCode == nil) {
    .....
}
</code></pre>

<p>åœ¨Swiftä¸­ï¼Œè¿™ç§æƒ…å†µéå¸¸æ˜æ˜¾çš„è¦ä½¿ç”¨Optionalã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å›nilã€‚</p>

<pre><code class="swift">func findStockCode (company : String) -&gt; String? {
    if (company == "Apple") {
        return "AAPL"
    } else if(company == "Google") {
        return "GOOG"
    }

    return nil
}
</code></pre>

<h2>ä½¿ç”¨ç†ç”±2: ç¼–è¯‘çš„æ—¶å€™æç¤ºé”™è¯¯</h2>

<pre><code class="objc">- (NSString *)findStockCode:(NSString *)company {
    if ([company isEqualToString:@"Apple"]) {
        return @"AAPL";
    } else if ([company isEqualToString:@"Google"]) {
        return @"GOOG";
    }

    return nil;
}

NSString *stockCode = [self findStockCode:@"Facebook"]; // nil is returned
NSString *text = @"Stock Code - ";
NSString *message = [text stringByAppendingString:stockCode]; // runtime error
NSLog(@"%@", message);
</code></pre>

<p>å½“ç”¨Objective-Cçš„æ—¶å€™ï¼Œ<code>[text stringByAppendingString:stockCode]</code>ä¸­ï¼Œç»™NSStringæ·»åŠ nilçš„æ—¶å€™ï¼Œåœ¨è¿è¡Œæ—¶å‡ºé”™ã€‚</p>

<pre><code class="swift">func findStockCode(company: String) -&gt; String? {
   if (company == "Apple") {
      return "AAPL"
   } else if (company == "Google") {
      return "GOOG"
   }

   return nil
}

var stockCode:String? = findStockCode("Facebook")
let text = "Stock Code - "
let message = text + stockCode  // compile-time error
print(message)
</code></pre>

<p>å½“ç”¨Swiftçš„æ—¶å€™ï¼Œ<code>let message = text + stockCode</code>ä¸­ï¼ŒXcodeä¼šä¸»åŠ¨æç¤ºstockCodeå¯èƒ½ä¼šæ˜¯nilçš„æƒ…å†µï¼Œéœ€è¦å¼€å‘è€…è¿›ä¸€æ­¥å¤„ç†ã€‚</p>

<h2>ä½¿ç”¨ç†ç”±3: å¼ºè¿«æ€è€ƒnilé—®é¢˜ï¼Œcrashå®¹æ˜“å‘ç°é—®é¢˜</h2>

<p>ä¸Šé¢çš„Swiftä»£ç ä¸­ï¼Œè¦è§£å†³complile-time errorï¼Œå¯ä»¥ç”¨åŠ ï¼æ¥forced unwrappingã€‚</p>

<pre><code class="swift">var stockCode:String? = findStockCode("Facebook")
let text = "Stock Code - "
let message = text + stockCode!  // runtime error
</code></pre>

<p>è¿™æ®µä»£ç å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Œä½†æ˜¯åœ¨runtimeçš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šå‡ºé”™ã€‚<br/>
æŠ›å‡ºï¼šâ€œfatal error: Canâ€™t unwrap Optional.Noneâ€ã€‚<br/>
åœ¨ä½¿ç”¨ï¼è¿›è¡Œforced unwrappingçš„æ—¶å€™ï¼Œå¼€å‘è€…è¢«è¿«æ€è€ƒæ˜¯è¦forced unwrappingï¼Œè¿˜æ˜¯stockCodeæœ‰å¯èƒ½æ˜¯nilã€‚<br/>
è¿™æœ‰åˆ©äºå‡å°‘çŠ¯é”™çš„æœºä¼šã€‚è€Œå¦‚æœå‡ºé”™äº†ï¼Œæç¤ºçš„æ¶ˆæ¯ä¹Ÿéå¸¸å®¹æ˜“æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚</p>

<h2>ä½¿ç”¨ç†ç”±4: ç®€åŒ–nilæ£€æŸ¥å†™æ³•(optional chaining)</h2>

<p>è€ƒè™‘è¿™ä¸ªä¾‹å­</p>

<pre><code class="swift">class Stock {
    var code: String? 
    var price: Double? 
}

func findStockCode(company: String) -&gt; Stock? {
    if (company == "Apple") {
        let aapl: Stock = Stock()
        aapl.code = "AAPL"
        aapl.price = 90.32

        return aapl
    } else if (company == "Google") {
        let goog: Stock = Stock()
        goog.code = "GOOG"
        goog.price = 556.36

        return goog
    }

    return nil
}

if let sharePrice = findStockCode("Apple")?.price {
    let totalCost = sharePrice * 100
    print(totalCost)
}
</code></pre>

<p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œè¿›è¡Œäº†2æ¬¡nilæ£€æŸ¥ï¼Œä¸€æ¬¡æ˜¯åˆ¤æ–­findStockCode(&ldquo;Apple&rdquo;)æ˜¯å¦ä¸ºnilï¼Œä¸€æ¬¡æ˜¯åˆ¤æ–­findStockCode(&ldquo;Apple&rdquo;).priceæ˜¯å¦ä¸ºnilã€‚ä½¿ç”¨optional chainingï¼Œå¯ä»¥ç®€åŒ–nilæ£€æŸ¥å†™æ³•ã€‚</p>

<h3>å‚è€ƒæ–‡çŒ®</h3>

<p><a href="https://www.appcoda.com/beginners-guide-optionals-swift/">A Beginnerâ€™s Guide to Optionals in Swift</a><br/>
<a href="http://blog.teamtreehouse.com/understanding-optionals-swift">Understanding Optionals in Swift</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ¨¡ä»¿UIAlertViewçš„ä¸€ä¸ªRotatable Overlay View â€” RTOverlayWindow]]></title>
    <link href="http://iandai.github.io/blog/2015/10/09/mo-fang-uialertviewde-%5B%3F%5D-ge-rotatable-overlay-view-rtoverlaywindow/"/>
    <updated>2015-10-09T15:37:41+02:00</updated>
    <id>http://iandai.github.io/blog/2015/10/09/mo-fang-uialertviewde-[?]-ge-rotatable-overlay-view-rtoverlaywindow</id>
    <content type="html"><![CDATA[<p>åœ¨å†™customised alert viewçš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œäºæ˜¯å†™äº†RTOverlayWindowã€‚</p>

<p>æœ€ç®€å•æ·»åŠ OverlayViewçš„æ–¹æ³•ï¼ˆè‹¹æœå®˜æ–¹å¹¶ä¸æ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼‰ï¼Œå°±æ˜¯</p>

<pre><code class="objc">    UIWindow *keyWindow = [[UIApplication sharedApplication] keyWindow];
    [keyWindow addSubview:someCustomizedView];
</code></pre>

<p>ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼Œæ·»åŠ çš„<code>someCustomizedView</code>æ— æ³•è‡ªåŠ¨æ—‹è½¬ã€‚
å¯¹æ— æ³•è‡ªåŠ¨æ—‹è½¬ï¼Œæœ€åˆç†çš„è§£å†³æ–¹æ³•ï¼Œæ˜¯æŠŠè¿™ä¸ªviewæ”¾åˆ°ä¸€ä¸ªUIViewControlleré‡Œé¢ç®¡ç†ã€‚</p>

<p>ä½†æ˜¯ï¼Œè¿˜æ˜¯å¸Œæœ›æœ‰ä¸€ç§ç®€å•çš„æ–¹æ³•ï¼Œå’Œä½¿ç”¨UIAlertViewä¸€æ ·ï¼Œåªæ˜¯å•çº¯çš„æ·»åŠ ä¸€ä¸ªç®€å•çš„viewï¼Œå°±å¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨ã€‚<br/>
äºæ˜¯ç ”ç©¶äº†ä¸€ä¸‹UIAlertViewçš„å®ç°ã€‚</p>

<p>åœ¨iOS7ä¸­ï¼Œåœ¨ç•Œé¢æœ‰UIAlertViewå¼¹å‡ºçš„çŠ¶æ€ä¸‹ï¼Œä½¿ç”¨<code>po [[UIWindow keyWindow] recursiveDescription]</code>å¯ä»¥çœ‹åˆ°å½“å‰UIAlertViewçš„viewç»“æ„ã€‚</p>

<pre><code>&lt;_UIModalItemHostingWindow: 0x7af46ee0; frame = (0 0; 320 480); gestureRecognizers = &lt;NSArray: 0x7af473e0&gt;; layer = &lt;UIWindowLayer: 0x7af47060&gt;&gt;
   | &lt;UIView: 0x7af46dd0; frame = (0 0; 320 480); opaque = NO; autoresize = W+H; layer = &lt;CALayer: 0x7af46d60&gt;&gt;
   | &lt;UIView: 0x7af49800; frame = (0 0; 320 480); opaque = NO; autoresize = W+H; layer = &lt;CALayer: 0x7af49860&gt;&gt;
   |    | &lt;UIView: 0x7b2561f0; frame = (0 0; 320 480); layer = &lt;CALayer: 0x7b256250&gt;&gt;
   |    | &lt;_UIModalItemRepresentationView: 0x7b255d90; frame = (25 178; 270 124); layer = &lt;CALayer: 0x7b255ea0&gt;&gt;
   |    |    | &lt;_UIModalItemAlertBackgroundView: 0x7af30f80; frame = (0 0; 270 124); animations = { &lt;_UIParallaxMotionEffect: 0x7af4c470&gt;=&lt;CAAnimationGroup: 0x7b25e510&gt;; }; layer = &lt;CALayer: 0x7af312e0&gt;&gt;
   |    |    |    | &lt;_UIBackdropView: 0x7af3de20; frame = (0 0; 270 124); clipsToBounds = YES; opaque = NO; autoresize = W+H; userInteractionEnabled = NO; layer = &lt;_UIBackdropViewLayer: 0x7af4a290&gt;&gt;
   |    |    |    |    | &lt;_UIBackdropEffectView: 0x7af4ab30; frame = (0 0; 270 124); clipsToBounds = YES; opaque = NO; autoresize = W+H; userInteractionEnabled = NO; layer = &lt;CABackdropLayer: 0x7af4ae50&gt;&gt;
   |    |    |    |    | &lt;UIView: 0x7af4b150; frame = (0 0; 270 124); hidden = YES; opaque = NO; autoresize = W+H; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7af4b5c0&gt;&gt;
   |    |    |    | &lt;UIImageView: 0x7af3b830; frame = (0 0; 270 124); clipsToBounds = YES; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7af47020&gt;&gt;
   |    |    | &lt;_UIModalItemAlertContentView: 0x7af45b50; frame = (0 0; 270 124); clipsToBounds = YES; animations = { &lt;_UIParallaxMotionEffect: 0x7af4c470&gt;=&lt;CAAnimationGroup: 0x7b25ec90&gt;; }; layer = &lt;CALayer: 0x7af45cf0&gt;&gt;
   |    |    |    | &lt;UITableView: 0x7cb96000; frame = (135 80; 135 44); clipsToBounds = YES; gestureRecognizers = &lt;NSArray: 0x7b236eb0&gt;; layer = &lt;CALayer: 0x7b236960&gt;; contentOffset: {0, 0}&gt;
   |    |    |    |    | &lt;UITableViewWrapperView: 0x7b2378f0; frame = (0 0; 135 44); autoresize = W+H; layer = &lt;CALayer: 0x7b237a00&gt;&gt;
   |    |    |    |    |    | &lt;_UIModalItemTableViewCell: 0x7b2648c0; frame = (0 0; 135 44); text = 'OK'; autoresize = W; layer = &lt;CALayer: 0x7b256010&gt;&gt;
   |    |    |    |    |    |    | &lt;UITableViewCellScrollView: 0x7b264a60; frame = (0 0; 135 44); autoresize = W+H; gestureRecognizers = &lt;NSArray: 0x7b237d50&gt;; layer = &lt;CALayer: 0x7b2604b0&gt;; contentOffset: {0, 0}&gt;
   |    |    |    |    |    |    |    | &lt;UITableViewCellContentView: 0x7b2520e0; frame = (0 0; 135 43.5); gestureRecognizers = &lt;NSArray: 0x7b261de0&gt;; layer = &lt;CALayer: 0x7b261220&gt;&gt;
   |    |    |    |    |    |    |    |    | &lt;UILabel: 0x7b264d30; frame = (15 0; 105 43.5); text = 'OK'; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b255ed0&gt;&gt;
   |    |    |    |    | &lt;UIImageView: 0x7b2577b0; frame = (131.5 37; 3.5 7); alpha = 0; opaque = NO; autoresize = LM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b257880&gt;&gt;
   |    |    |    |    | &lt;UIImageView: 0x7b2571d0; frame = (128 40.5; 7 3.5); alpha = 0; opaque = NO; autoresize = TM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b257420&gt;&gt;
   |    |    |    | &lt;UIScrollView: 0x7b238430; frame = (0 0; 270 61); clipsToBounds = YES; gestureRecognizers = &lt;NSArray: 0x7b2389a0&gt;; layer = &lt;CALayer: 0x7b238680&gt;; contentOffset: {0, 0}&gt;
   |    |    |    |    | &lt;UILabel: 0x7b2337a0; frame = (15 19; 240 21); text = 'title'; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b233850&gt;&gt;
   |    |    |    |    | &lt;UILabel: 0x7b2340a0; frame = (15 44; 240 17); text = 'message'; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b233950&gt;&gt;
   |    |    |    |    | &lt;UIImageView: 0x7b258bd0; frame = (0 57.5; 270 3.5); alpha = 0; opaque = NO; autoresize = TM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b258ca0&gt;&gt;
   |    |    |    |    | &lt;UIImageView: 0x7b258da0; frame = (266.5 0; 3.5 61); alpha = 0; opaque = NO; autoresize = LM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b258e70&gt;&gt;
   |    |    |    | &lt;UIView: 0x7b2541d0; frame = (0 79.5; 270 0.5); layer = &lt;CALayer: 0x7b254230&gt;&gt;
   |    |    |    | &lt;UITableView: 0x7cbc7400; frame = (0 80; 135 44); clipsToBounds = YES; gestureRecognizers = &lt;NSArray: 0x7b254320&gt;; layer = &lt;CALayer: 0x7b2542b0&gt;; contentOffset: {0, 0}&gt;
   |    |    |    |    | &lt;UITableViewWrapperView: 0x7b254620; frame = (0 0; 135 44); autoresize = W+H; layer = &lt;CALayer: 0x7b254710&gt;&gt;
   |    |    |    |    |    | &lt;_UIModalItemTableViewCell: 0x7b25fb20; frame = (0 0; 135 44); text = 'cancel'; autoresize = W; layer = &lt;CALayer: 0x7b25fe00&gt;&gt;
   |    |    |    |    |    |    | &lt;UITableViewCellScrollView: 0x7b2600c0; frame = (0 0; 135 44); autoresize = W+H; gestureRecognizers = &lt;NSArray: 0x7b236cf0&gt;; layer = &lt;CALayer: 0x7b260330&gt;; contentOffset: {0, 0}&gt;
   |    |    |    |    |    |    |    | &lt;UITableViewCellContentView: 0x7b2368e0; frame = (0 0; 135 43.5); gestureRecognizers = &lt;NSArray: 0x7b256cd0&gt;; layer = &lt;CALayer: 0x7b237f90&gt;&gt;
   |    |    |    |    |    |    |    |    | &lt;UILabel: 0x7b237a30; frame = (15 0; 105 43.5); text = 'cancel'; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b25b8a0&gt;&gt;
   |    |    |    |    | &lt;UIImageView: 0x7b259200; frame = (131.5 37; 3.5 7); alpha = 0; opaque = NO; autoresize = LM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b2592d0&gt;&gt;
   |    |    |    |    | &lt;UIImageView: 0x7b259020; frame = (128 40.5; 7 3.5); alpha = 0; opaque = NO; autoresize = TM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7b2590f0&gt;&gt;
   |    |    |    | &lt;UIView: 0x7b254820; frame = (135 80; 0.5 44); layer = &lt;CALayer: 0x7b254880&gt;&gt;
</code></pre>

<p>åœ¨iOS8ä¸­UIVAlertViewç»“æ„å¦‚ä¸‹ã€‚
&#8220;`
&lt;<em>UIAlertControllerShimPresenterWindow: 0x7bbbfaa0; frame = (0 0; 768 1024); opaque = NO; autoresize = W+H; gestureRecognizers = &lt;NSArray: 0x7bbc0600>; layer = &lt;UIWindowLayer: 0x7bbbfcf0>>
   | &lt;UIView: 0x7bd727b0; frame = (0 0; 768 1024); autoresize = W+H; layer = &lt;CALayer: 0x7bd72820>>
   | &lt;UITransitionView: 0x7a7bcb20; frame = (0 0; 768 1024); autoresize = W+H; layer = &lt;CALayer: 0x7a7bccd0>>
   |    | &lt;UIView: 0x7a68fd90; frame = (0 0; 768 1024); layer = &lt;CALayer: 0x7a68fe00>>
   |    | &lt;</em>UIKeyboardLayoutAlignmentView: 0x7a68fab0; frame = (0 1024; 768 0); layer = &lt;CALayer: 0x7a68fc60>>
   |    | &lt;UIView: 0x7a68f8e0; frame = (0 0; 768 1024); layer = &lt;CALayer: 0x7a68f890>>
   |    | &lt;<em>UIAlertControllerView: 0x7a695f70; frame = (249 451; 270 122); layer = &lt;CALayer: 0x7a6961e0>>
   |    |    | &lt;UIView: 0x7a696350; frame = (0 0; 270 122); animations = { &lt;</em>UIParallaxMotionEffect: 0x7a792160>=&lt;CAAnimationGroup: 0x7a7b2380>; }; layer = &lt;CALayer: 0x7a6963c0>>
   |    |    |    | &lt;<em>UIDimmingKnockoutBackdropView: 0x7a69fd90; frame = (0 0; 270 122); clipsToBounds = YES; layer = &lt;CALayer: 0x7a689fa0>>
   |    |    |    |    | &lt;UIView: 0x7a68a490; frame = (0 0; 270 122); clipsToBounds = YES; layer = &lt;CALayer: 0x7a687850>>
   |    |    |    |    | &lt;</em>UIBackdropView: 0x7a69fe00; frame = (0 0; 270 122); clipsToBounds = YES; opaque = NO; autoresize = W+H; userInteractionEnabled = NO; layer = &lt;<em>UIBackdropViewLayer: 0x7a692a40>>
   |    |    |    |    |    | &lt;UIView: 0x7a694d00; frame = (0 0; 270 122); opaque = NO; autoresize = W+H; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7a6746d0>>
   |    |    |    | &lt;UIView: 0x7a696410; frame = (0 0; 270 122); layer = &lt;CALayer: 0x7a696480>>
   |    |    |    |    | &lt;UIView: 0x7a6964d0; frame = (0 0; 270 122); clipsToBounds = YES; layer = &lt;CALayer: 0x7a696540>>
   |    |    |    |    |    | &lt;</em>UIAlertControllerShadowedScrollView: 0x7a6966b0; frame = (0 0; 270 78); clipsToBounds = YES; gestureRecognizers = &lt;NSArray: 0x7a696e60>; layer = &lt;CALayer: 0x7a6969c0>; contentOffset: {0, 0}; contentSize: {270, 78}>
   |    |    |    |    |    |    | &lt;UIView: 0x7a6975c0; frame = (0 0; 270 78); layer = &lt;CALayer: 0x7a697630>>
   |    |    |    |    |    |    |    | &lt;UILabel: 0x7a698580; frame = (16 20; 238 21); text = &lsquo;11&rsquo;; userInteractionEnabled = NO; layer = &lt;<em>UILabelLayer: 0x7a698240>>
   |    |    |    |    |    |    |    | &lt;UILabel: 0x7a69ab30; frame = (16 42; 238 16); text = &lsquo;22&rsquo;; userInteractionEnabled = NO; layer = &lt;</em>UILabelLayer: 0x7a69abf0>>
   |    |    |    |    |    |    |    | &lt;UIView: 0x7a69ad70; frame = (135 -451; 0 0); clipsToBounds = YES; layer = &lt;CALayer: 0x7a69ade0>>
   |    |    |    |    |    |    | &lt;UIImageView: 0x7a787b60; frame = (0 75; 270 3); alpha = 0; opaque = NO; autoresize = TM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7a787e70>>
   |    |    |    |    |    |    | &lt;UIImageView: 0x7a788610; frame = (267 902; 3 78); alpha = 0; opaque = NO; autoresize = LM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7a788690>>
   |    |    |    |    |    | &lt;UICollectionView: 0x7a984a00; frame = (0 78; 270 44); clipsToBounds = YES; gestureRecognizers = &lt;NSArray: 0x7a69bd70>; layer = &lt;CALayer: 0x7a69bad0>; contentOffset: {0, 0}; contentSize: {270, 44}> collection view layout: &lt;<em>UIAlertControllerCollectionViewFlowLayout: 0x7a69b1d0>
   |    |    |    |    |    |    | &lt;</em>UIAlertControllerCollectionViewCell: 0x7bbbaec0; frame = (0 1; 135 44); layer = &lt;CALayer: 0x7bbbd730>>
   |    |    |    |    |    |    |    | &lt;UIView: 0x7bbbc4a0; frame = (0 0; 135 44); gestureRecognizers = &lt;NSArray: 0x7bbb11b0>; layer = &lt;CALayer: 0x7bbc2110>>
   |    |    |    |    |    |    |    |    | &lt;<em>UIAlertControllerActionView: 0x7bbbc100; frame = (0 0; 135 44); Action = &lt;UIAlertAction: 0x7bbbf640 Title = &ldquo;cancel&rdquo; Descriptive = &ldquo;(null)&rdquo; Image = 0x0>>
   |    |    |    |    |    |    |    |    |    | &lt;</em>UIBlendingHighlightView: 0x7bbc5640; frame = (0 0; 135 44); hidden = YES; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7bbc5810>>
   |    |    |    |    |    |    |    |    |    |    | &lt;UIView: 0x7bbc56e0; frame = (0 0; 135 44); layer = &lt;CALayer: 0x7bbc4dd0>>
   |    |    |    |    |    |    |    |    |    |    | &lt;UIView: 0x7bbc5790; frame = (0 0; 135 44); layer = &lt;CALayer: 0x7bbc6580>>
   |    |    |    |    |    |    |    |    |    | &lt;UIView: 0x7bbc28e0; frame = (12 0; 111 0); layer = &lt;CALayer: 0x7bb68f30>>
   |    |    |    |    |    |    |    |    |    |    | &lt;UILabel: 0x7bbbc1c0; frame = (0 12; 111 21); text = &lsquo;cancel&rsquo;; userInteractionEnabled = NO; layer = &lt;<em>UILabelLayer: 0x7bbbd3e0>>
   |    |    |    |    |    |    |    |    |    |    | &lt;UILabel: 0x7bbbc280; frame = (-12 22; 0 0); userInteractionEnabled = NO; layer = &lt;</em>UILabelLayer: 0x7bbc1c50>>
   |    |    |    |    |    |    |    |    |    |    |    | &lt;<em>UILabelContentLayer: 0x7a7b5620> (layer)
   |    |    |    |    |    |    |    |    |    | &lt;UIImageView: 0x7bbbc340; frame = (12 22; 0 0); userInteractionEnabled = NO; layer = &lt;CALayer: 0x7bbbc3c0>>
   |    |    |    |    |    |    |    |    |    | &lt;UIImageView: 0x7bbbfe30; frame = (109 15; 14 14); hidden = YES; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7bbc2d30>>
   |    |    |    |    |    |    | &lt;</em>UIAlertControllerCollectionViewCell: 0x7bbcd6c0; frame = (135 1; 135 44); layer = &lt;CALayer: 0x7bbcd2a0>>
   |    |    |    |    |    |    |    | &lt;UIView: 0x7bbcd760; frame = (0 0; 135 44); gestureRecognizers = &lt;NSArray: 0x7bbcd950>; layer = &lt;CALayer: 0x7bbcd7d0>>
   |    |    |    |    |    |    |    |    | &lt;<em>UIAlertControllerActionView: 0x7bbcd980; frame = (0 0; 135 44); Action = &lt;UIAlertAction: 0x7bbbf7c0 Title = &ldquo;OK&rdquo; Descriptive = &ldquo;(null)&rdquo; Image = 0x0>>
   |    |    |    |    |    |    |    |    |    | &lt;</em>UIBlendingHighlightView: 0x7bbd0550; frame = (0 0; 135 44); hidden = YES; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7bbd1e30>>
   |    |    |    |    |    |    |    |    |    |    | &lt;UIView: 0x7bbd05f0; frame = (0 0; 135 44); layer = &lt;CALayer: 0x7bbd0060>>
   |    |    |    |    |    |    |    |    |    |    | &lt;UIView: 0x7bbd06a0; frame = (0 0; 135 44); layer = &lt;CALayer: 0x7bbd2bf0>>
   |    |    |    |    |    |    |    |    |    | &lt;UIView: 0x7bbcda70; frame = (12 0; 111 0); layer = &lt;CALayer: 0x7bbcdae0>>
   |    |    |    |    |    |    |    |    |    |    | &lt;UILabel: 0x7bbcdb10; frame = (0 12; 111 21); text = &lsquo;OK&rsquo;; userInteractionEnabled = NO; layer = &lt;<em>UILabelLayer: 0x7bbcdbd0>>
   |    |    |    |    |    |    |    |    |    |    | &lt;UILabel: 0x7bbcdd20; frame = (-12 22; 0 0); userInteractionEnabled = NO; layer = &lt;</em>UILabelLayer: 0x7bbcdde0>>
   |    |    |    |    |    |    |    |    |    |    |    | &lt;<em>UILabelContentLayer: 0x7a7b50d0> (layer)
   |    |    |    |    |    |    |    |    |    | &lt;UIImageView: 0x7bbcdf30; frame = (12 22; 0 0); userInteractionEnabled = NO; layer = &lt;CALayer: 0x7bbcdfb0>>
   |    |    |    |    |    |    |    |    |    | &lt;UIImageView: 0x7bbcdfe0; frame = (109 15; 14 14); hidden = YES; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7bbce060>>
   |    |    |    |    |    |    | &lt;</em>UIAlertControllerBlendingSeparatorView: 0x7a7739b0; frame = (0 0; 270 1); layer = &lt;CALayer: 0x7a78d6b0>>
   |    |    |    |    |    |    |    | &lt;<em>UIBlendingHighlightView: 0x7a774ac0; frame = (0 0; 270 1); layer = &lt;CALayer: 0x7a7926e0>>
   |    |    |    |    |    |    |    |    | &lt;UIView: 0x7a77f430; frame = (0 0; 270 1); layer = &lt;CALayer: 0x7a792760>>
   |    |    |    |    |    |    |    |    | &lt;UIView: 0x7a785440; frame = (0 0; 270 1); layer = &lt;CALayer: 0x7a7927c0>>
   |    |    |    |    |    |    | &lt;</em>UIAlertControllerBlendingSeparatorView: 0x7a780ab0; frame = (135 1; 1 43); layer = &lt;CALayer: 0x7a79d5a0>>
   |    |    |    |    |    |    |    | &lt;_UIBlendingHighlightView: 0x7a78c490; frame = (0 0; 1 43); layer = &lt;CALayer: 0x7a7928e0>>
   |    |    |    |    |    |    |    |    | &lt;UIView: 0x7a7beba0; frame = (0 0; 1 43); layer = &lt;CALayer: 0x7a792960>>
   |    |    |    |    |    |    |    |    | &lt;UIView: 0x7a772d20; frame = (0 0; 1 43); layer = &lt;CALayer: 0x7a7929e0>>
   |    |    |    |    |    |    | &lt;UIImageView: 0x7a789f20; frame = (0 41; 270 3); alpha = 0; opaque = NO; autoresize = TM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7a789fa0>>
   |    |    |    |    |    |    | &lt;UIImageView: 0x7a78a3e0; frame = (267 0; 3 44); alpha = 0; opaque = NO; autoresize = LM; userInteractionEnabled = NO; layer = &lt;CALayer: 0x7a78a460>></p>

<p>&#8220;`</p>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶UIAlertViewåœ¨iOS7å’ŒiOS8ä¸­å®ç°æ–¹æ³•ä¸åŒï¼Œä½†éƒ½æ˜¯æ–°å»ºäº†ä¸€ä¸ªUIWindowï¼Œå¹¶è®¾ä¸ºkeyWindowã€‚<br/>
æ¨¡ä»¿UIAlertViewçš„æ–¹å¼ï¼Œåšäº†<a href="https://github.com/iandai/RTOverlayWindow">RTOverlayWindow</a>ã€‚<br/>
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨å¤šå±‚UIWindowä¹Ÿæ˜¯è‹¹æœæ‰€ä¸æ¨èçš„æ–¹æ³•ï¼Œä¸è¿‡æœ‰æ—¶å€™åœ¨ä»£ç ç»“æ„æœ¬èº«ä¸åˆç†çš„æƒ…å†µä¸‹ï¼Œä¹Ÿæ˜¯ä¸€ç§ä¸é”™çš„æ–¹æ³•ã€‚</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS Appå¦‚ä½•æ­£ç¡®çš„è¦æ±‚ç”¨æˆ·åŒæ„è·å–ç³»ç»Ÿæƒé™ï¼ˆæ‘˜è¦ï¼‰]]></title>
    <link href="http://iandai.github.io/blog/2015/09/24/ios-appru-he-zheng-que-de-yao-qiu-yong-hu-tong-yi-huo-qu-xi-tong-quan-xian-(zhai-yao-)/"/>
    <updated>2015-09-24T11:30:22+02:00</updated>
    <id>http://iandai.github.io/blog/2015/09/24/ios-appru-he-zheng-que-de-yao-qiu-yong-hu-tong-yi-huo-qu-xi-tong-quan-xian-(zhai-yao-)</id>
    <content type="html"><![CDATA[<h2>iOS Appå¦‚ä½•æ­£ç¡®çš„è¦æ±‚ç”¨æˆ·åŒæ„è·å–ç³»ç»Ÿæƒé™ï¼ˆæ‘˜è¦ï¼‰</h2>

<ul>
<li>Appä¸‹è½½åï¼Œç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå¼¹å‡ºå¯¹è¯æ¡†ï¼Œè¦æ±‚è·å–ç³»ç»Ÿæƒé™ã€‚æˆåŠŸç‡åªæœ‰30%ï¼40%ã€‚è¿™ç§æ–¹æ³•ä¸æ¨èã€‚</li>
<li>åœ¨ç»™ç”¨æˆ·ä»‹ç»AppåŠŸèƒ½çš„ç•Œé¢ï¼Œè§£é‡Šä¸ºä»€ä¹ˆéœ€è¦è·å–æŸä¸€é¡¹ç³»ç»Ÿæƒé™ï¼Œå¹¶å¼¹å‡ºå¯¹è¯æ¡†ã€‚æˆåŠŸç‡æœ‰40% - 66%ã€‚è¿™ç§æ–¹æ³•ä¹Ÿä¸æ¨èã€‚</li>
<li>åœ¨ç”¨æˆ·è¿›è¡ŒæŸé¡¹æ“ä½œï¼Œå¿…é¡»ä½¿ç”¨åˆ°æŸä¸€é¡¹ç³»ç»Ÿæƒé™çš„æ—¶å€™ï¼Œå¼¹å‡ºAppè‡ªå®šä¹‰çš„å¯¹è¯æ¡†ï¼Œè§£é‡Šä¸ºä½•éœ€è¦è·å–æŸä¸€é¡¹ç³»ç»Ÿæƒé™ã€‚å¦‚æœç”¨æˆ·ç‚¹å‡»åŒæ„ï¼Œé‚£ä¹ˆå†å¼¹å‡ºç³»ç»Ÿçš„æƒé™è·å–å¯¹è¯æ¡†ã€‚å¦‚æœç”¨æˆ·ç‚¹å‡»ä¸åŒæ„ï¼Œé‚£ä¹ˆAppå°±ä¸æ‰§è¡Œè¯¥åŠŸèƒ½ï¼Œå‘Šè¯‰ç”¨æˆ·è¦åšçš„æ“ä½œå¤±è´¥ã€‚åˆ©ç”¨è¿™ç§æ–¹æ³•ï¼Œæœ‰æ—¶å€™æˆåŠŸç‡å¯ä»¥è¾¾åˆ°100%ã€‚</li>
</ul>


<h4>å‚è€ƒæ–‡çŒ®</h4>

<p><a href="http://techcrunch.com/2014/04/04/the-right-way-to-ask-users-for-ios-permissions/">The Right Way To Ask Users For iOS Permissions</a></p>
]]></content>
  </entry>
  
</feed>
